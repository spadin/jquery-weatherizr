(function(c){c.extend({weatherizr:function(e){e=c.get("http://pipes.yahoo.com/pipes/pipe.run?_id=dd8dd58983068f8a245d69afd8946443&_render=json&location="+escape(e));var f=jQuery.Deferred();e.success(function(a){console.log(a);var d=a.value.items[0].current_conditions.condition.data;d=d.toLowerCase().replace(/\s/g,"_");c("body").addClass(d);var g={current:{code:d,condition:a.value.items[0].current_conditions.condition.data,temperature:{fahrenheit:a.value.items[0].current_conditions.temp_f.data,celcius:a.value.items[0].current_conditions.temp_f.data},
humidity:a.value.items[0].current_conditions.icon.data,icon:"http://google.com"+a.value.items[0].current_conditions.icon.data,wind:a.value.items[0].current_conditions.wind_condition.data.replace(/Wind: /g,"")},forecast:[]};c.each(a.value.items[0].forecast_conditions,function(h,b){g.forecast.push({day:b.day_of_week.data,low:b.low.data,high:b.high.data,icon:"http://google.com"+b.icon.data,condition:b.condition.data})});f.resolve(g)});return f.promise()}})})(jQuery);
