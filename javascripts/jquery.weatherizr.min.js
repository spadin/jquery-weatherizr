(function(a){a.extend({weatherizr:function(e){e=a.get("http://www.google.com/ig/api?weather="+escape(e));var f=jQuery.Deferred();e.success(function(b){var d=a(b).find("current_conditions condition").attr("data");d=d.toLowerCase().replace(/\s/g,"_");a("body").addClass(d);var g={current:{code:d,condition:a(b).find("current_conditions condition").attr("data"),temperature:{fahrenheit:a(b).find("current_conditions temp_f").attr("data"),celcius:a(b).find("current_conditions temp_c").attr("data")},humidity:a(b).find("current_conditions humidity").attr("data"),
icon:"http://google.com"+a(b).find("current_conditions icon").attr("data"),wind:a(b).find("current_conditions wind_condition").attr("data").replace(/Wind: /g,"")},forecast:[]};a(b).find("forecast_conditions").each(function(h,c){g.forecast.push({day:a(c).find("day_of_week").attr("data"),low:a(c).find("low").attr("data"),high:a(c).find("high").attr("data"),icon:"http://google.com"+a(c).find("icon").attr("data"),condition:a(c).find("condition").attr("data")})});f.resolve(g)});return f.promise()}})})(jQuery);
